---
import Layout from "../../layouts/Layout.astro";
import GaleriaFotos from "../../components/reactComponents/GaleriaFotos.jsx";

export const eventos = [
  {
    slug: "encuentro-brisas-1",
    titulo: "Encuentro Brisas del sur - Parte 1",
  },
  {
    slug: "encuentro-brisas-2",
    titulo: "Encuentro Brisas del sur - Parte 2",
  },
  {
    slug: "encuentro-brisas-3",
    titulo: "Encuentro Brisas del sur - Parte 3",
  },
  {
    slug: "encuentro-brisas-4",
    titulo: "Encuentro Brisas del sur - Parte 4",
  },
  {
    slug: "encuentro-brisas-5",
    titulo: "Encuentro Brisas del sur - Parte 5",
  },
  {
    slug: "encuentro-brisas-6",
    titulo: "Encuentro Brisas del sur - Parte 6",
  },
  {
    slug: "encuentro-brisas-7",
    titulo: "Encuentro Brisas del sur - Parte 7",
  },
  {
    slug: "encuentro-brisas-8",
    titulo: "Encuentro Brisas del sur - Parte 8",
  },
  {
    slug: "encuentro-brisas-9",
    titulo: "Encuentro Brisas del sur - Parte 9",
  },
  {
    slug: "encuentro-brisas-10",
    titulo: "Encuentro Brisas del sur - Parte 10",
  },
  {
    slug: "encuentro-brisas-11",
    titulo: "Encuentro Brisas del sur - Parte 11",
  },
  {
    slug: "encuentro-brisas-12",
    titulo: "Encuentro Brisas del sur - Parte 12",
  },
  {
    slug: "encuentro-brisas-13",
    titulo: "Encuentro Brisas del sur - Parte 13",
  },
  {
    slug: "encuentro-brisas-14",
    titulo: "Encuentro Brisas del sur - Parte 14",
  },
  {
    slug: "encuentro-brisas-15",
    titulo: "Encuentro Brisas del sur - Parte 15",
  },
  {
    slug: "encuentro-brisas-16",
    titulo: "Encuentro Brisas del sur - Parte 16",
  },
  {
    slug: "encuentro-brisas-17",
    titulo: "Encuentro Brisas del sur - Parte 17",
  },
];

// ⚙️ Después definimos getStaticPaths correctamente
export async function getStaticPaths() {
  return eventos.map((evento) => ({
    params: { evento: evento.slug },
  }));
}

// 🔎 Obtenemos el evento de la URL
const { evento } = Astro.params;

// 🧠 Buscamos los datos del evento según el slug
const eventoData = eventos.find((e) => e.slug === evento);

if (!eventoData) {
  throw new Error(`Evento no encontrado: ${evento}`);
}
---

<Layout title={`Galería - ${eventoData.titulo}`}>
  <GaleriaFotos client:load evento={eventoData.slug} />
</Layout>
